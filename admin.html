<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel</title>
<style>
    body { background:#000; color:#f00; font-family:Arial; padding:20px; }
    h1 { text-align:center; text-shadow:0 0 10px #f00; }
    .section { background:#111; border:1px solid #333; padding:20px; margin:20px auto; max-width:600px; border-radius:10px; box-shadow:0 0 15px #f00; }
    label { display:block; margin-top:10px; }
    input { width:100%; padding:8px; margin-top:5px; border-radius:5px; border:none; }
    button { margin-top:10px; padding:10px 20px; background:#f00; color:black; border:none; cursor:pointer; font-weight:bold; border-radius:5px; }
    table { width:100%; color:#fff; border-collapse:collapse; margin-top:10px; }
    th, td { border:1px solid #f00; padding:5px; }
</style>
</head>
<body>

<h1>Admin Panel</h1>

<div id="loginSection">
    <label>Password:</label>
    <input type="password" id="passwordInput">
    <button onclick="checkPassword()">Login</button>
</div>

<div id="adminContent" style="display:none;">
    <div class="section">
        <h2>üí∞ Edit Tournament</h2>
        <label>Match Time:</label>
        <input type="text" id="matchTimeInput">
        <label>Room ID:</label>
        <input type="text" id="roomIdInput">
        <label>Room Pass:</label>
        <input type="text" id="roomPassInput">
        <button onclick="saveTournament()">Save Tournament</button>
    </div>

    <div class="section">
        <h2>üèÜ Edit Leaderboard</h2>
        <label>Player Name:</label>
        <input type="text" id="playerNameInput">
        <label>Points:</label>
        <input type="number" id="playerPointsInput">
        <button onclick="addPlayer()">Add Player</button>
        <table>
            <thead>
                <tr><th>Player</th><th>Points</th><th>Action</th></tr>
            </thead>
            <tbody id="leaderboardAdminBody"></tbody>
        </table>
    </div>
</div>

<script>
    function checkPassword() {
        const pass = document.getElementById("passwordInput").value;
        if (pass === "hayato") {
            document.getElementById("loginSection").style.display = "none";
            document.getElementById("adminContent").style.display = "block";
            loadData();
        } else {
            alert("Wrong Password!");
        }
    }

    function loadData() {
        const t = JSON.parse(localStorage.getItem("tournamentData")) || {time:"", id:"", pass:""};
        document.getElementById("matchTimeInput").value = t.time;
        document.getElementById("roomIdInput").value = t.id;
        document.getElementById("roomPassInput").value = t.pass;

        renderLeaderboard();
    }

    function saveTournament() {
        const data = {
            time: document.getElementById("matchTimeInput").value,
            id: document.getElementById("roomIdInput").value,
            pass: document.getElementById("roomPassInput").value
        };
        localStorage.setItem("tournamentData", JSON.stringify(data));
        alert("Tournament Saved!");
    }

    function renderLeaderboard() {
        const lb = JSON.parse(localStorage.getItem("leaderboardData")) || [];
        const tbody = document.getElementById("leaderboardAdminBody");
        tbody.innerHTML = "";
        lb.forEach((p, i) => {
            const tr = document.createElement("tr");
            tr.innerHTML = `<td>${p.name}</td><td>${p.points}</td>
                            <td><button onclick="deletePlayer(${i})">Delete</button></td>`;
            tbody.appendChild(tr);
        });
    }

    function addPlayer() {
        const name = document.getElementById("playerNameInput").value;
        const points = parseInt(document.getElementById("playerPointsInput").value) || 0;
        if (!name) return alert("Enter player name");
        const lb = JSON.parse(localStorage.getItem("leaderboardData")) || [];
        lb.push({name, points});
        localStorage.setItem("leaderboardData", JSON.stringify(lb));
        document.getElementById("playerNameInput").value = "";
        document.getElementById("playerPointsInput").value = "";
        renderLeaderboard();
    }

    function deletePlayer(index) {
        const lb = JSON.parse(localStorage.getItem("leaderboardData")) || [];
        lb.splice(index, 1);
        localStorage.setItem("leaderboardData", JSON.stringify(lb));
        renderLeaderboard();
    }
</script>

</body>
</html>
